<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>Problem</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
      <style type="text/css">
         .well1{
         background-color: red;
         }
   .container-fluid::after, .container-fluid::before, .container::after, .container::before,.row::after, .row::before{
         display: inline;
         }
  .bg{
    background-color: red;
    color: blue;
    font-size: 30px;
  }

      </style>
   </head>
   <body>
   <div class="innercnt">
      <div id="master">
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="1">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="2">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="3">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="4">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="5">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="6">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="7">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="8">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="9">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="10">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="87">Button</a> 
                  </div>
               </div>
            </div>
         </div>
         <div class="container mycontainer">
            <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
               <div class="thumbnail">
                  <img src="http://placehold.it/500x300" alt="Thumbnail Image">
                  <div class="caption">
                     <h4>Thumbnail label</h4>
                     <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere, soluta, eligendi doloribus sunt minus amet sit debitis repellat. Consectetur, culpa itaque odio similique suscipit</p>
                     <p><a class="btn btn-info btn-xs" id="89">Button</a> 
                  </div>
               </div>
            </div>
         </div>

      <div class="hidden" id="thumb1">
         <div class="well">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quibusdam veniam magnam, odit dolor aspernatur dicta similique possimus reprehenderit distinctio asperiores perspiciatis rem tempora nemo maxime, enim amet dolore nobis iusto.
         </div>
      </div>
    </div>
      <script src="http://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
      <script>
         jQuery(document).ready(function($) {

            $('#master .btn-xs').on('click',function(){
                $('.tempo').remove()
                var getText=$('#thumb1').children('.well').text()
                var $this=$( this );
                var currentObj = $(this).parents('.mycontainer')
                index=currentObj.index();

                var env=findBootstrapEnvironment()
                
                
                if (env=='Small'){
                    console.log('sm');
                    Small(index,currentObj,getText)
                }
                else if(env=='ExtraSmall'){
                    ExtraSmall(index,currentObj,getText);
                  
                }else if(env=='Large'){
                    console.log('lg');
                    Large(index,currentObj,getText)
                }
                else if(env=='Medium'){
                    console.log('md');
                    Medium(index,currentObj,getText)
                }
                
            });
          function Large(index,currentObj,getText){
            var new_el= document.createElement('div');

            new_el=$(new_el).html("<span class='bg'>"+index+"</span>"+getText).css('display', 'inline-block').addClass('tempo');;
         
            if (index % 4 == 0) {
              currentDiv=$('.mycontainer').eq(index+3)
              new_el.insertAfter(currentDiv)
            }
            else{
              var add=4-index%4
              currentDiv=$('.mycontainer').eq(add+index-1)
              new_el.insertAfter(currentDiv)
            }
         
          }
          function Small(index,currentDiv,getText){
            var new_el= document.createElement('div');
           

            new_el=$(new_el).html("<span class='bg'>"+index+"</span>"+getText).css('display', 'inline-block').addClass('tempo');
         
            if (index % 2 == 0) {
              currentDiv=$('.mycontainer').eq(index+1)
              new_el.insertAfter(currentDiv)
            }
            else{
              new_el.insertAfter(currentDiv)
            }
          }
          function Medium(index,currentObj,getText){
            var new_el= document.createElement('div');

            new_el=$(new_el).html("<span class='bg'>"+index+"</span>"+getText).css('display', 'inline-block').addClass('tempo');;
         
            if (index % 3 == 0) {
              currentDiv=$('.mycontainer').eq(index+2)
              new_el.insertAfter(currentDiv)
            }
            else{
              var add=3-index%3
              currentDiv=$('.mycontainer').eq(add+index-1)
              new_el.insertAfter(currentDiv)
            }
          }
          function ExtraSmall(index,currentDiv,getText){
         
            var new_el= document.createElement('div');

            new_el=$(new_el).html("<span class='bg'>"+index+"</span>"+getText).css('display', 'inline-block').addClass('tempo');;
         
            new_el.insertAfter(currentDiv)
         
          }
         function findBootstrapEnvironment() {
         var envs = ["ExtraSmall", "Small", "Medium", "Large"];
         var envValues = ["xs", "sm", "md", "lg"];
         
         var $el = $('<div>');
         $el.appendTo($('body'));
         
         for (var i = envValues.length - 1; i >= 0; i--) {
         var envVal = envValues[i];
         
         $el.addClass('hidden-'+envVal);
         if ($el.is(':hidden')) {
            $el.remove();
            return envs[i]
         }
         };
         }
         });
         
            
      </script>
   </body>
</html>